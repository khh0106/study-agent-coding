# Claude Code Skills

> 작성일: 2026-02-23

## 핵심 개념

- **Skills**란 Claude의 능력을 확장하는 마크다운 파일
- `/슬래시커맨드`로 직접 호출하거나, Claude가 description을 보고 자동 실행
- 기존 `.claude/commands/`가 Skills로 통합됨 (하위 호환 유지)
- **메인 컨텍스트에서 실행** (기본) — 대화 기록을 공유

## commands/ vs skills/ 차이

| | `.claude/commands/` | `.claude/skills/이름/` |
|--|---------------------|----------------------|
| 파일 구조 | 파일 하나 (`note.md`) | 디렉토리 + `SKILL.md` |
| 지원 파일 | 없음 | templates, examples, scripts 등 |
| Claude 자동 호출 | 제한적 | description으로 정밀 제어 |
| 우선순위 충돌 | — | skills가 commands보다 우선 |
| 현재 상태 | 그대로 동작 | 추가 기능 제공 (권장) |

> **결론:** commands/는 단순 슬래시 커맨드, skills/는 지원 파일 + 자동 호출 제어까지 가능한 확장판

## Skills vs 서브에이전트

| | Skills | 서브에이전트 |
|--|--------|------------|
| 실행 위치 | **메인 컨텍스트** | **독립 컨텍스트** |
| 대화 기록 | 공유됨 | 접근 불가 |
| 호출 방법 | `/이름` 또는 Claude 자동 | Claude 위임 |
| 용도 | 재사용 프롬프트/워크플로우 | 독립적인 작업 위임 |

## 저장 위치

| 위치 | 범위 |
|------|------|
| `~/.claude/skills/이름/SKILL.md` | 내 모든 프로젝트 |
| `.claude/skills/이름/SKILL.md` | 현재 프로젝트만 |

## 사용법

### 기본 구조

```markdown
---
name: my-skill
description: 언제 쓸지 설명 (Claude 자동 호출 기준)
---

Claude가 따를 지시사항

$ARGUMENTS  ← 사용자가 입력한 인자
```

### 주요 frontmatter 옵션

```yaml
---
name: my-skill
description: 언제 쓸지 설명
disable-model-invocation: true  # true → 사용자만 호출 가능 (Claude 자동 호출 차단)
user-invocable: false           # false → Claude만 자동 호출 (슬래시 커맨드 숨김)
allowed-tools: Read, Bash       # 이 스킬 실행 시 허용 도구
context: fork                   # fork → 서브에이전트에서 격리 실행
model: sonnet                   # 이 스킬 실행 시 사용할 모델
---
```

### 호출 제어 요약

| frontmatter | 사용자 `/호출` | Claude 자동 호출 |
|-------------|-------------|----------------|
| 기본값 | ✅ | ✅ |
| `disable-model-invocation: true` | ✅ | ❌ |
| `user-invocable: false` | ❌ | ✅ |

> 배포/커밋처럼 부작용 있는 작업 → `disable-model-invocation: true` 필수

### 동적 컨텍스트 주입 (`!` 명령어)

```markdown
## 현재 PR 정보
- diff: !`gh pr diff`
- 변경 파일: !`gh pr diff --name-only`
```

`!` 뒤 쉘 명령어는 Claude에게 전달되기 전에 실행되어 결과로 치환됨

### 서브에이전트에서 실행 (`context: fork`)

```yaml
---
name: deep-research
context: fork
agent: Explore
---

$ARGUMENTS 를 철저히 분석해줘
```

대화 기록 없이 격리된 환경에서 실행 → 메인 컨텍스트 오염 없음

## 실습 메모

- `disable-model-invocation: true` vs `user-invocable: false` 헷갈리지 말 것
  - 부작용 있는 작업(배포 등) → `disable-model-invocation: true`로 Claude 차단
  - 배경 지식용 → `user-invocable: false`로 슬래시 커맨드 숨김
- 기존 `.claude/commands/` 파일은 그대로 동작 — 마이그레이션 불필요
- Skills 수가 많으면 context budget 초과 가능 → `/context`로 확인
- `!`명령어`` 는 Claude가 실행하는 게 아니라 **전처리 단계에서 실행** (중요)

## commands → skills 마이그레이션 실습

기존 `.claude/commands/` 파일을 `.claude/skills/` 디렉토리 구조로 변환.

### 변환 전 (commands/)

```
.claude/commands/
├── note.md
└── my-git.md
```

### 변환 후 (skills/)

```
.claude/skills/
├── note/
│   └── SKILL.md   ← note.md 내용 + 추가 frontmatter
└── my-git/
    └── SKILL.md   ← my-git.md 내용 + 추가 frontmatter
```

### 추가된 frontmatter

```yaml
disable-model-invocation: true  # 커밋/노트 작성은 사용자가 직접 호출
description: ...                # Claude 자동 호출 기준 (더 정교하게 작성)
```

> 기존 commands/ 파일은 삭제하지 않아도 됨. 동일 이름이면 skills/가 우선 적용.

## 다음 학습 주제

- [ ] Agent Teams — 완전히 독립된 세션 간 에이전트 협력
