# Claude Code Plan Mode & 권한 모드

> 작성일: 2026-02-23

## 핵심 개념

- Plan Mode는 파일을 **읽기 전용**으로 분석하고 계획만 수립하는 모드
- 계획 수립 후 사용자 승인을 받아야 실행으로 넘어감
- Claude가 `AskUserQuestion`으로 요구사항을 확인하며 계획을 정교화함

## 3가지 권한 모드

| 터미널 표시 | 모드 이름 | 설명 |
|------------|-----------|------|
| *(없음)* | **Normal Mode** | 기본값. 도구 사용 시 승인 요청 |
| `⏵⏵ accept edits on` | **Auto-Accept Mode** | 모든 도구 사용 자동 승인 |
| `⏸ plan mode on` | **Plan Mode** | 읽기 전용. 파일 수정 불가 |

Shift+Tab으로 순환: `Normal → Auto-Accept → Plan → Normal → ...`

## 사용법

### 방법 1 — 세션 중 Shift+Tab

```
Shift+Tab 1번 → Auto-Accept Mode (⏵⏵)
Shift+Tab 2번 → Plan Mode (⏸)
Shift+Tab 3번 → Normal Mode (표시 없음)
```

### 방법 2 — 처음부터 Plan Mode로 시작

```bash
claude --permission-mode plan
```

### 방법 3 — /plan 커맨드

```
> /plan
```

### 방법 4 — 기본값으로 설정

```json
// .claude/settings.json
{
  "permissions": {
    "defaultMode": "plan"
  }
}
```

### Headless 모드에서 사용

```bash
claude --permission-mode plan -p "인증 시스템을 분석하고 개선점을 제안해줘"
```

## Plan Mode 동작 흐름

```
Plan Mode 진입
    ↓
Claude가 파일 읽기/검색 (수정 없음)
    ↓
AskUserQuestion으로 요구사항 확인
    ↓
계획 작성
    ↓
사용자 승인 후 실행
```

## 언제 사용하나?

| 상황 | 이유 |
|------|------|
| 여러 파일을 수정해야 할 때 | 실수 없이 계획부터 |
| 낯선 코드베이스를 탐색할 때 | 안전한 읽기 전용 |
| Claude와 방향을 먼저 조율할 때 | 승인 후 실행 |

## 실습 메모

- `Ctrl+G` — 현재 계획을 기본 텍스트 에디터에서 열고 직접 편집 가능 **(직접 확인)**
- `/plan` 커맨드로도 Plan Mode 진입 가능 (세션 중) **(직접 확인)**
- Plan Mode에서 Normal Mode로 돌아가려면 Shift+Tab을 계속 누르면 됨 **(직접 실습)**
- Auto-Accept Mode는 빠르게 작업할 때 편리하지만, 승인 없이 파일이 수정되므로 주의
- Plan Mode는 분석 요청(레포 구조 파악 등)에도 활용 가능 — 코드 변경 없이 탐색만 함

## 다음 학습 주제

- [x] Plan Mode & 권한 모드
- [x] 멀티 에이전트 — 여러 에이전트 동시 실행
